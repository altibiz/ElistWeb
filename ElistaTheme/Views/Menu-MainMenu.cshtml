@using Microsoft.AspNetCore.Identity
@using OrchardCore.Entities
@using OrchardCore.Settings
@using OrchardCore.Users
@using OrchardCore.Users.Models
@inject ISiteService SiteService
@inject SignInManager<IUser> SignInManager

<style type="text/css">
    .nav.navbar-nav.menu-main-menu.menu {
        margin-left: auto;
    }
</style>

@{
    var allowChangeEmail = (await SiteService.GetSiteSettingsAsync()).As<ChangeEmailSettings>().AllowChangeEmail;
    var externalAuthenticationSchemes = await SignInManager.GetExternalAuthenticationSchemesAsync();
}

@{
    TagBuilder tag = Tag(Model, "ul");
    tag.AddCssClass("navbar-nav mt-3 mt-lg-0");

    foreach (var item in Model.Items)
    {

        tag.InnerHtml.AppendHtml("<li class='nav-item dropdown'>");
        tag.InnerHtml.AppendHtml(await DisplayAsync(item));
        tag.InnerHtml.AppendHtml("<li/>");

    }
}

<nav class="navbar navbar-expand-lg bg-transparent border-0 shadow-0 navbar-light px-lg-5 z-index-20 ">
    <button class="navbar-toggler navbar-toggler-right" type="button" data-bs-toggle="collapse" data-bs-target="#navbarContent" aria-controls="navbarContent" aria-expanded="false" aria-label="Toggle navigation">
        <svg class="svg-icon navbar-icon">
            <use xlink:href="#menu-hamburger-1"></use>
        </svg>Menu (need fix)
    </button>

    <div class="collapse navbar-collapse" id="navbarContent">

        @tag

        <partial name="UserMenu" />

    </div>
</nav>
